---
output: html_document
---

```{r init, echo=FALSE}
library(knitr)
library(xtable)
library(tools)
source("functions.R")
step <- make_step_counter_function()
rmd_example <- make_markdown_example_function()
```

```{r java, results='asis', echo = FALSE}
# Add javascript to cause the iframes to be scrolled down all the way when the page loads. 
cat('
<script type="text/javascript">
$(window).load(function ()
{
    var $contents = $(".frame").contents();
    $contents.scrollTop(10000);
});
</script>
  ')

```


# **R**Markdown

RMarkdown is an extension of the Markdown syntax that allows R code to be displayed and run when the document is rendered.
This can range from minor bits of code to add the current date to entire analyses being conducted during the rendering of the document, making the rendered document a record of the analysis.
Rmarkdown is implemented using an R package called `knitr`.

## Mixing R and Markdown

There are two ways to add R code to Markdown: inline, and chunks.
The syntax to adding inline code is the same as specifying a monospace font (surounding text with <code>\`</code>), except that an `r` is added after the first <code>\`</code>.
Multiple lines of code (called a "chunk") can be added by putting the lines of code between <code>\`\`\`{r}</code> and <code>\`\`\`</code>, each on their own line. 
Unlike the inline method, chunks of code defined this way have many options conotroling how they are handled; we will cover some of these options soon.

**`r step()` Create a new markdown document and delete all the default template content. Paste in the code below, save the file, and press "Knit HTML".**

```{r intro, results='asis', echo = FALSE}
rmd_example("
# Analysis 1

Date: `r Sys.time()` 

\`\`\`{r}
my_data <- c(1, 3, 2.4, 6, 7.2)
mean(my_data)
median(my_data)
\`\`\`
            ")

```



## Code evaluation

In the above example, the code in the chuck was both displayed and evaluated.
However, it is possible to show code without evaluating it and evaluate it without showing it.
There are many chunk options that modify how the code is handled; these options are defined in the curly braces after the `r`. 
Setting the chunk option `include` to `FALSE` causes the chunk to not be displayed in the rendered document. 
Setting the chunk option `eval` to `FALSE` causes the code not to be executed. 

**`r step()` Copy the text from the box below and paste it on to the end of your Markdown document and press "Knit HTML".**

```{r code_eval, results='asis', echo = FALSE}
rmd_example("
## Code evaluation

Do not include chunk, but still run code: 

\`\`\`{r, include=FALSE}
var(my_data)
x = 'I just saved this sentence.'
\`\`\`


Normal evaluation:

\`\`\`{r}
var(my_data)
print(x)
\`\`\`


Do not evaluate code: 

\`\`\`{r, eval=FALSE}
var(my_data)
\`\`\`
            ")

```


## Results

What results of the code are included in the rendered document can also be controlled with chunk options.

**`r step()` Copy the text from the box below and paste it on to the end of your Markdown document and press "Knit HTML".**

## Figures

## Tables

## Caching

## YAML headers

## Other output foramts

## Additional resources