<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>The basics of R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/default.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="tutorial.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Science in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="02--Setup.html">Setup</a>
</li>
<li>
  <a href="03--Data_formatting.html">Data formatting</a>
</li>
<li>
  <a href="04--Markdown.html">Markdown</a>
</li>
<li>
  <a href="05--RMarkdown.html">RMarkdown</a>
</li>
<li>
  <a href="06--Git.html">Git and GitHub</a>
</li>
<li>
  <a href="07--Organization.html">Organization</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extra Content
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Extra_content---The_Basics_of_R.html">The Basics of R</a>
    </li>
    <li>
      <a href="Extra_content---Advanced_RMarkdown.html">Advanced RMarkdown</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">The basics of R</h1>

</div>


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This is a quick introduction to R. It’s not meant to be a comprehensive tutorial, but rather as a small, sturdy foothold to get you started. We will cover concepts such as <strong><ins>vectors</ins></strong>, <strong><ins>functions</ins></strong>, and <strong><ins>packages</ins></strong>.</p>
</div>
<div id="fancy-calculator" class="section level2">
<h2>Fancy Calculator</h2>
<p>R is a programming language, but above all, it’s a statistical programming language that’s interactive. The basic usage of R is to use it like a calculator.</p>
<p>When you open R, the first thing you’ll see is the version, license and then the <strong><ins>R prompt (&gt;)</ins></strong>:</p>
<pre><code>
R version 3.3.1 (2016-06-21) -- &quot;Bug in Your Hair&quot;
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#39;license()&#39; or &#39;licence()&#39; for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type &#39;contributors()&#39; for more information and
&#39;citation()&#39; on how to cite R or R packages in publications.

Type &#39;demo()&#39; for some demos, &#39;help()&#39; for on-line help, or
&#39;help.start()&#39; for an HTML browser interface to help.
Type &#39;q()&#39; to quit R.

&gt;</code></pre>
<p>The R prompt tells us that it’s ready for us to type commands. Unlike other programming languages, it’s designed to be interactive. As an example, we’ll do some simple calculations showing the relationship between 47 and 2. In your R console, type <code>47 + 2</code> and then hit <kbd>Enter</kbd>. After that, type <code>47 * 2</code> and hit <kbd>Enter</kbd>. You should see something like this:</p>
<pre class="r"><code>&gt; 47 + 2</code></pre>
<pre><code>[1] 49</code></pre>
<pre class="r"><code>&gt; 47 * 2</code></pre>
<pre><code>[1] 94</code></pre>
</div>
<div id="variables" class="section level2">
<h2>Variables</h2>
<p>Unlike a calculator, you can save the results of your calculations into variables by using the <strong><ins>assignment operator (&lt;-)</ins></strong>. This looks like an arrow pointing the results of the calculation on the right to the variable on the left.</p>
<pre class="r"><code>&gt; # 49 - 2 and 94/2 are both 47. It&#39;s magic!
&gt; its   &lt;- 49 - 2
&gt; magic &lt;- 94 / 2</code></pre>
<blockquote>
<p>The # symbol is a “comment”. R will ignore anything that comes after a comment, allowing you to write notes to yourself in your R script</p>
</blockquote>
<p>Now that we saved the results into a variable, how do we look at it? All we have to do is type the variable:</p>
<pre class="r"><code>&gt; its</code></pre>
<pre><code>[1] 47</code></pre>
<pre class="r"><code>&gt; magic</code></pre>
<pre><code>[1] 47</code></pre>
<p>Variables can be used in calculations.</p>
<pre class="r"><code>&gt; oh  &lt;- its + 2
&gt; oh</code></pre>
<pre><code>[1] 49</code></pre>
<pre class="r"><code>&gt; wow &lt;- magic * 2
&gt; wow</code></pre>
<pre><code>[1] 94</code></pre>
<p>You can even overwrite variables.</p>
<pre class="r"><code>&gt; oh &lt;- &quot;oh&quot;
&gt; oh</code></pre>
<pre><code>[1] &quot;oh&quot;</code></pre>
<pre class="r"><code>&gt; wow &lt;- &quot;wow&quot;
&gt; wow</code></pre>
<pre><code>[1] &quot;wow&quot;</code></pre>
<p>But single variables are not all that you can do In R. Read more to find out about vectors!</p>
</div>
<div id="vectors" class="section level2">
<h2>Vectors</h2>
<p>R can store more than single values. It has <strong><ins>vectors</ins></strong>. These are sequences of data that are all of the same type (i.e. integers, decimals, text (characters), and logical values (TRUE/FALSE)). To construct a vector, you can use the <code>c()</code> function (more about functions later):</p>
<pre class="r"><code>&gt; some_numbers    &lt;- c(pi, 47.5362, 3.50, 1.1111)
&gt; some_numbers    </code></pre>
<pre><code>[1]  3.141593 47.536200  3.500000  1.111100</code></pre>
<pre class="r"><code>&gt; some_integers   &lt;- c(1, 1, 2, 3)
&gt; some_integers   </code></pre>
<pre><code>[1] 1 1 2 3</code></pre>
<pre class="r"><code>&gt; more_integers   &lt;- 1:4 # same as c(1, 2, 3, 4), but a lot easier to type!
&gt; more_integers</code></pre>
<pre><code>[1] 1 2 3 4</code></pre>
<pre class="r"><code>&gt; some_characters &lt;- c(&quot;work it&quot;, &quot;harder&quot;, &quot;make it&quot;, &quot;better&quot;,  # You can wrap commands on
+                      &quot;do it&quot;, &quot;faster&quot;, &quot;makes us&quot;, &quot;stronger&quot;) # multiple lines.
&gt; some_characters </code></pre>
<pre><code>[1] &quot;work it&quot;  &quot;harder&quot;   &quot;make it&quot;  &quot;better&quot;   &quot;do it&quot;    &quot;faster&quot;  
[7] &quot;makes us&quot; &quot;stronger&quot;</code></pre>
<pre class="r"><code>&gt; some_logic      &lt;- c(TRUE, FALSE, TRUE, TRUE)
&gt; some_logic      </code></pre>
<pre><code>[1]  TRUE FALSE  TRUE  TRUE</code></pre>
<div id="vectorization" class="section level3">
<h3>Vectorization</h3>
<p>You can think about these as being similar to a column in an excel spreadhseet. For example, if you wanted to take column A and square each number, you would start by setting cell <strong>B1</strong> to <code>=A1^2</code> and then you would drag that down to apply to the entire column.</p>
<p>Math works with vectors the same way in R:</p>
<pre class="r"><code>&gt; some_integers ^ 2</code></pre>
<pre><code>[1] 1 1 4 9</code></pre>
<p>Again, if you tried to add two columns together in excel, you would type something like <code>=A1+B1</code> and then drag to apply to the column. R behaves the same way:</p>
<pre class="r"><code>&gt; some_integers + some_numbers</code></pre>
<pre><code>[1]  4.141593 48.536200  5.500000  4.111100</code></pre>
</div>
<div id="subsetting-vectors" class="section level3">
<h3>Subsetting vectors</h3>
<div id="using-integers" class="section level4">
<h4>Using integers</h4>
<p>Notice that each vector starts with <code>[1]</code> when you print it? This is telling you what position this number is in the vector. You can get a specific element of a vector by supplying a specific integer or sequence of integers:</p>
<pre class="r"><code>&gt; some_numbers[2]</code></pre>
<pre><code>[1] 47.5362</code></pre>
<pre class="r"><code>&gt; some_characters[c(1, 3, 5, 7)]</code></pre>
<pre><code>[1] &quot;work it&quot;  &quot;make it&quot;  &quot;do it&quot;    &quot;makes us&quot;</code></pre>
<pre class="r"><code>&gt; some_logic[1:3]</code></pre>
<pre><code>[1]  TRUE FALSE  TRUE</code></pre>
<pre class="r"><code>&gt; some_characters[some_integers] # you can also use other vectors!</code></pre>
<pre><code>[1] &quot;work it&quot; &quot;work it&quot; &quot;harder&quot;  &quot;make it&quot;</code></pre>
<p>Notice in the last example, we took our integer vector with the Fibbonacci sequence and used it to subset the character vector.</p>
</div>
<div id="using-logical-values" class="section level4">
<h4>Using logical values</h4>
<p>We can also use logical values to subset a vector:</p>
<pre class="r"><code>&gt; some_numbers[some_logic]</code></pre>
<pre><code>[1] 3.141593 3.500000 1.111100</code></pre>
<p>This is a very powerful method of subsetting a vector because we can use logical comparison such as <code>&gt;</code>, <code>&lt;</code>, and <code>==</code>. We can get the same result as above by asking R to only return numbers less than ten:</p>
<pre class="r"><code>&gt; some_numbers # the second element is greater than 10.</code></pre>
<pre><code>[1]  3.141593 47.536200  3.500000  1.111100</code></pre>
<pre class="r"><code>&gt; some_numbers[some_numbers &lt; 10]</code></pre>
<pre><code>[1] 3.141593 3.500000 1.111100</code></pre>
</div>
</div>
</div>
<div id="functions" class="section level2">
<h2>Functions</h2>
<p>One other feature of R is the fact that it has <strong><ins>functions</ins></strong>. These are self-contained pieces of code that can be run over and over. Functions can do anything from reading and writing files, graphics, and calculations. A simple function is the <code>sum()</code> function:</p>
<pre class="r"><code>&gt; sum(some_integers)</code></pre>
<pre><code>[1] 7</code></pre>
<p>Functions always take the form of <code>do_this(to_this_thing)</code>, so in the case above, we are taking the sum of some integers.</p>
</div>
<div id="packages" class="section level2">
<h2>Packages</h2>
<p>R would not be so widely used without <strong><ins>packages</ins></strong>. These are a set of functions, documentation, and data sets that can be distributed to anyone using R. If you can think of something you want R to do, there’s probably a package for that. Packages can be downloaded from online repositories such as <a href="https://cran.r-project.org/">CRAN</a> or <a href="http://bioconductor.org/">BioConductor</a>.</p>
<p>The easiest way to install a package is through your R console with the function <code>install.packages()</code>:</p>
<pre class="r"><code>&gt; install.packages(&quot;poppr&quot;, repos = &quot;https://cran.rstudio.org&quot;)</code></pre>
<pre><code>
Installing package into &#39;/Users/zhian/R&#39;
(as &#39;lib&#39; is unspecified)
trying URL &#39;https://cran.rstudio.org/bin/macosx/mavericks/contrib/3.3/poppr_2.2.0.tgz&#39;
Content type &#39;application/x-gzip&#39; length 2617496 bytes (2.5 MB)
==================================================
downloaded 2.5 MB</code></pre>
<pre><code>
The downloaded binary packages are in
    /var/folders/qd/dpdhfsz12wb3c7wz0xdm6dbm0000gn/T//RtmpWCcCSI/downloaded_packages</code></pre>
<p>This package is stored in your <strong><ins>R library</ins></strong>, which is a folder on your computer where your downloaded packages live. When you want to use the functions in a package, you load it with the <code>library()</code> function. This function tells R to look in your library for a package and load it.</p>
<pre class="r"><code>&gt; library(&quot;poppr&quot;)</code></pre>
</div>
<div id="getting-help" class="section level2">
<h2>Getting help</h2>
<p>One way that R shines above other languages is that R packages in CRAN are all documented and easy to install. Help files are written in HTML and give the user a brief overview of:</p>
<ul>
<li>the purpose of a function</li>
<li>the parameters it takes</li>
<li>the output it yields</li>
<li>examples demonstrating its usage</li>
</ul>
<p>To get help on any R function, type a question mark before the empty function. Here’s an example of how to get help about the <code>gather()</code> function from the <em>tidyr</em> package:</p>
<pre class="r"><code>&gt; library(&quot;tidyr&quot;) # The package with the gather() function.
&gt; ?gather          # open the R documentation of the function gather()</code></pre>
<div class="r-help-page">
<table width="100%" summary="page for gather">
<tr>
<td>
gather
</td>
<td style="text-align: right;">
R Documentation
</td>
</tr>
</table>
<h2>
Gather columns into key-value pairs.
</h2>
<h3>
Description
</h3>
<p>
Gather takes multiple columns and collapses into key-value pairs, duplicating all other columns as needed. You use <code>gather()</code> when you notice that you have columns that are not variables.
</p>
<h3>
Usage
</h3>
<pre class="r">
gather(data, key, value, ..., na.rm = FALSE, convert = FALSE,
  factor_key = FALSE)
</pre>
<h3>
Arguments
</h3>
<table summary="R argblock">
<tr valign="top">
<td>
<code>data</code>
</td>
<td>
<p>
A data frame.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>key, value</code>
</td>
<td>
<p>
Names of key and value columns to create in output.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Specification of columns to gather. Use bare variable names. Select all variables between x and z with <code>x:z</code>, exclude y with <code>-y</code>. For more options, see the select documentation.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>na.rm</code>
</td>
<td>
<p>
If <code>TRUE</code>, will remove rows from output where the value column in <code>NA</code>.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>convert</code>
</td>
<td>
<p>
If <code>TRUE</code> will automatically run <code>type.convert</code> on the key column. This is useful if the column names are actually numeric, integer, or logical.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>factor_key</code>
</td>
<td>
<p>
If <code>FALSE</code>, the default, the key values will be stored as a character vector. If <code>TRUE</code>, will be stored as a factor, which preserves the original ordering of the columns.
</p>
</td>
</tr>
</table>
<h3>
See Also
</h3>
<p>
<code>gather_</code> for a version that uses regular evaluation and is suitable for programming with.
</p>
<h3>
Examples
</h3>
<pre class="r">
library(dplyr)
# From http://stackoverflow.com/questions/1181060
stocks &lt;- data_frame(
  time = as.Date('2009-01-01') + 0:9,
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4)
)

gather(stocks, stock, price, -time)
stocks %&gt;% gather(stock, price, -time)

# get first observation for each Species in iris data -- base R
mini_iris &lt;- iris[c(1, 51, 101), ]
# gather Sepal.Length, Sepal.Width, Petal.Length, Petal.Width
gather(mini_iris, key = flower_att, value = measurement,
       Sepal.Length, Sepal.Width, Petal.Length, Petal.Width)
# same result but less verbose
gather(mini_iris, key = flower_att, value = measurement, -Species)

# repeat iris example using dplyr and the pipe operator
library(dplyr)
mini_iris &lt;-
  iris %&gt;%
  group_by(Species) %&gt;%
  slice(1)
mini_iris %&gt;% gather(key = flower_att, value = measurement, -Species)
</pre>
</div>
<p>If you want to run the examples, you can either copy and paste the commands to your R console, or you can run them all with:</p>
<pre class="r"><code>&gt; example(&quot;gather&quot;, package = &quot;tidyr&quot;)</code></pre>
<p>Other ways of getting help:</p>
<pre class="r"><code>&gt; help(package = &quot;tidyr&quot;)  # Get help for a package.
&gt; help(&quot;gather&quot;)           # Get help for the gather function
&gt; ?gather                  # same as above
&gt; ??multilocus             # Search for help that has the keyword &#39;multilocus&#39; in all packages</code></pre>
<p>Some packages include vignettes that can have different formats such as being introductions, tutorials, or reference cards in PDF format. You can look at a list of vignettes in all packages by typing:</p>
<pre class="r"><code>&gt; browseVignettes()                     # see vignettes from all packages
&gt; browseVignettes(package = &#39;poppr&#39;)    # see vignettes from a specific package.</code></pre>
<p>and to look at a specific vignette you can type:</p>
<pre class="r"><code>&gt; vignette(&#39;mlg&#39;)</code></pre>
</div>
<div id="glossary" class="section level1">
<h1>Glossary</h1>
<p><strong><ins>assignment operator (&lt;-)</ins></strong>: assigns the result of whatever’s to the right of the operator to whatever is on the left</p>
<p><strong><ins>functions</ins></strong>: a self-contained set of code that can be used many times</p>
<p><strong><ins>packages</ins></strong>: a set of functions and data sets that are bundled together for distribution and download</p>
<p><strong><ins>R library</ins></strong>: a folder/directory on your computer where your R packages are stored</p>
<p><strong><ins>R prompt (&gt;)</ins></strong>: a symbol that R uses to let you know it’s ready for you to enter commands</p>
<p><strong><ins>vectors</ins></strong>: a sequence of data elements of the same type</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
