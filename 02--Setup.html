<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Required Components</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/default.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="tutorial.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>

<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
  padding-left: 10px;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Reproducible Science in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="02--Setup.html">Setup</a>
</li>
<li>
  <a href="03--Data_formatting.html">Data formatting</a>
</li>
<li>
  <a href="04--Markdown.html">Markdown</a>
</li>
<li>
  <a href="05--RMarkdown.html">RMarkdown</a>
</li>
<li>
  <a href="06--Git.html">Git and GitHub</a>
</li>
<li>
  <a href="07--Organization.html">Organization</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extra Content
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Extra_content---The_Basics_of_R.html">The Basics of R</a>
    </li>
    <li>
      <a href="Extra_content---Advanced_RMarkdown.html">Advanced RMarkdown</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Required Components</h1>

</div>


<p>This website is an introduction to some of the principles of reproducible science in R. While we are using R and other tools for reproducible research, our focus here is not to teach you the tools, but how you can use them to make your research more reproducible. Before we get started on the bulk of the content, we will go over how to install the software needed for this tutorial and briefly introduce working with R.</p>
<div id="installing-r-and-rstudio" class="section level2">
<h2>Installing R and RStudio</h2>
<p>First, install R and RStudio:</p>
<ol style="list-style-type: decimal">
<li><p>Download and install the <a href="http://www.r-project.org">R</a> statistical computing and graphing environment. This works cross-platform on Windows, OS X and Linux operating systems.</p></li>
<li><p>Download and install the free, open source edition of the <a href="https://www.rstudio.com/products/rstudio/download/">RStudio Desktop</a> integrated development environment (IDE), which we recommend. This is basically a point-and-click interface for R that includes a text editor, file browser, and some other conveniences.</p></li>
</ol>
</div>
<div id="installing-the-required-packages" class="section level2">
<h2>Installing the required packages</h2>
<p>The following packages are used in this primer:</p>
<ol style="list-style-type: decimal">
<li><a href="http://cran.r-project.org/web/packages/rmarkdown/index.html">rmarkdown</a> (creating reports)</li>
<li><a href="http://cran.r-project.org/web/packages/agricolae/index.html">agricolae</a> (agricultural disease data analysis)</li>
<li><a href="http://cran.r-project.org/web/packages/ggplot2/index.html">ggplot2</a> (graphs)</li>
<li><a href="http://cran.r-project.org/web/packages/poppr/index.html">poppr</a> (genetic data analysis)</li>
<li><a href="http://cran.r-project.org/web/packages/dplyr/index.html">dplyr</a> (data manipulation)</li>
<li><a href="http://cran.r-project.org/web/packages/tidyr/index.html">tidyr</a> (data manipulation)</li>
</ol>
<p>To install these packages, open RStudio and copy and paste the following code into the console:</p>
<pre class="r"><code>my_packages &lt;- c(&quot;rmarkdown&quot;,&quot;poppr&quot;, &quot;agricolae&quot;, &quot;dplyr&quot;, &quot;tidyr&quot;, &quot;ggplot2&quot;)
install.packages(my_packages, repos = &quot;http://cran.rstudio.com&quot;, dependencies = TRUE)</code></pre>
<p>Congratulations! You should now be all set for using R. To ensure that everything is set up correctly, you can go through steps 1 and 2 in the <a href="Markdown.html">markdown chapter</a>.</p>
</div>
<div id="optional-software" class="section level2">
<h2>Optional software</h2>
<div id="pdfs-with-latex" class="section level3">
<h3>PDFs with LaTeX</h3>
<p>If you want to create PDF documents, you will need a <a href="https://latex-project.org/"><span class="math inline">\(\LaTeX\)</span></a> installation. For OSX and Ubuntu users, this can be a large download and you will want to ensure you have a good connection:</p>
<ul>
<li><a href="https://tug.org/mactex/">LaTeX for OSX</a></li>
<li><a href="http://miktex.org/">LaTeX for Windows</a></li>
<li><a href="https://help.ubuntu.com/community/LaTeX">LaTeX for Ubuntu</a></li>
</ul>
<p>To those that know of and fear LaTeX: don’t worry, you don’t need to write any LaTeX code to produce PDFs from Markdown.</p>
</div>
<div id="git" class="section level3">
<h3>Git</h3>
<p>Git is a version control program that we will cover, but since installation requirements can vary between operating systems, we are not requiring it for the workshop. However, if you would like to install it, <a href="http://happygitwithr.com/install-git.html">Here’s a website that covers installation for the major operating systems</a>.</p>
</div>
</div>
<div id="a-quick-introduction-to-r-using-rstudio" class="section level2">
<h2>A quick introduction to R using RStudio</h2>
<p>Let’s review some of the basic features and functions of R. To start R, open the RStudio application from your programs folder or start menu. This will initialize your R session. To exit R, simply close the RStudio application.</p>
<blockquote>
<p>Note that R is a case-sensitive language!</p>
</blockquote>
<p>Let’s get comfortable with R by submitting the following command on the console (where R prompts you with a <code>&gt;</code> in the lower left RStudio window pane) that will tell you something about your version of R and the packages you have, which is useful for reporting reproducible research.</p>
<pre class="r"><code>sessionInfo() # This command will tell you information about your current R session</code></pre>
<pre><code>## R version 3.3.1 (2016-06-21)
## Platform: x86_64-apple-darwin13.4.0 (64-bit)
## Running under: OS X 10.11.6 (El Capitan)
## 
## locale:
## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] printr_0.0.6  knitr_1.13    rmarkdown_1.0 git2r_0.15.0 
## 
## loaded via a namespace (and not attached):
##  [1] magrittr_1.5    rsconnect_0.4.3 formatR_1.4     htmltools_0.3.5
##  [5] tools_3.3.1     yaml_2.1.13     Rcpp_0.12.6     stringi_1.1.1  
##  [9] stringr_1.0.0   digest_0.6.9    evaluate_0.9</code></pre>
<blockquote>
<p>Note that any text after a ‘#’ symbol is a comment and does not affect the code execution; you can just type <code>getwd()</code> after the “&gt;”.</p>
</blockquote>
</div>
<div id="packages-and-getting-help" class="section level2">
<h2>Packages and getting help</h2>
<p>One way that R shines above other languages is that R packages in CRAN are all documented and easy to install. Help files are written in HTML and give the user a brief overview of:</p>
<ul>
<li>the purpose of a function</li>
<li>the parameters it takes</li>
<li>the output it yields</li>
<li>examples demonstrating its usage</li>
</ul>
<p>To get help on any R function, type a question mark before the empty function. Here’s an example of how to get help about the <code>gather()</code> function from the <em>tidyr</em> package:</p>
<pre class="r"><code>library(&#39;tidyr&#39;) # The package with the gather() function.
?gather          # open the R documentation of the function gather()</code></pre>
<div class="r-help-page">
<table width="100%" summary="page for gather">
<tr>
<td>
gather
</td>
<td style="text-align: right;">
R Documentation
</td>
</tr>
</table>
<h2>
Gather columns into key-value pairs.
</h2>
<h3>
Description
</h3>
<p>
Gather takes multiple columns and collapses into key-value pairs, duplicating all other columns as needed. You use <code>gather()</code> when you notice that you have columns that are not variables.
</p>
<h3>
Usage
</h3>
<pre class="r">
gather(data, key, value, ..., na.rm = FALSE, convert = FALSE,
  factor_key = FALSE)
</pre>
<h3>
Arguments
</h3>
<table summary="R argblock">
<tr valign="top">
<td>
<code>data</code>
</td>
<td>
<p>
A data frame.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>key, value</code>
</td>
<td>
<p>
Names of key and value columns to create in output.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>…</code>
</td>
<td>
<p>
Specification of columns to gather. Use bare variable names. Select all variables between x and z with <code>x:z</code>, exclude y with <code>-y</code>. For more options, see the select documentation.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>na.rm</code>
</td>
<td>
<p>
If <code>TRUE</code>, will remove rows from output where the value column in <code>NA</code>.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>convert</code>
</td>
<td>
<p>
If <code>TRUE</code> will automatically run <code>type.convert</code> on the key column. This is useful if the column names are actually numeric, integer, or logical.
</p>
</td>
</tr>
<tr valign="top">
<td>
<code>factor_key</code>
</td>
<td>
<p>
If <code>FALSE</code>, the default, the key values will be stored as a character vector. If <code>TRUE</code>, will be stored as a factor, which preserves the original ordering of the columns.
</p>
</td>
</tr>
</table>
<h3>
See Also
</h3>
<p>
<code>gather_</code> for a version that uses regular evaluation and is suitable for programming with.
</p>
<h3>
Examples
</h3>
<pre class="r">
library(dplyr)
# From http://stackoverflow.com/questions/1181060
stocks &lt;- data_frame(
  time = as.Date('2009-01-01') + 0:9,
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4)
)

gather(stocks, stock, price, -time)
stocks %&gt;% gather(stock, price, -time)

# get first observation for each Species in iris data -- base R
mini_iris &lt;- iris[c(1, 51, 101), ]
# gather Sepal.Length, Sepal.Width, Petal.Length, Petal.Width
gather(mini_iris, key = flower_att, value = measurement,
       Sepal.Length, Sepal.Width, Petal.Length, Petal.Width)
# same result but less verbose
gather(mini_iris, key = flower_att, value = measurement, -Species)

# repeat iris example using dplyr and the pipe operator
library(dplyr)
mini_iris &lt;-
  iris %&gt;%
  group_by(Species) %&gt;%
  slice(1)
mini_iris %&gt;% gather(key = flower_att, value = measurement, -Species)
</pre>
</div>
<p>If you want to run the examples, you can either copy and paste the commands to your R console, or you can run them all with:</p>
<pre class="r"><code>example(&quot;gather&quot;, package = &quot;tidyr&quot;)</code></pre>
<p>Other ways of getting help:</p>
<pre class="r"><code>help(package = &quot;tidyr&quot;)  # Get help for a package.
help(&quot;gather&quot;)           # Get help for the gather function
?gather                  # same as above
??multilocus             # Search for help that has the keyword &#39;multilocus&#39; in all packages</code></pre>
<p>Some packages include vignettes that can have different formats such as being introductions, tutorials, or reference cards in PDF format. You can look at a list of vignettes in all packages by typing:</p>
<pre class="r"><code>browseVignettes()                     # see vignettes from all packages
browseVignettes(package = &#39;poppr&#39;)    # see vignettes from a specific package.</code></pre>
<p>and to look at a specific vignette you can type:</p>
<pre class="r"><code>vignette(&#39;mlg&#39;)</code></pre>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
